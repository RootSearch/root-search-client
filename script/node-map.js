class NodeMap {
  static __root_map__ = [
    { id: 1, top: 30.89, left: 14.26 },
    { id: 2, top: 32.92, left: 6.45 },
    { id: 3, top: 35.28, left: 0.98 },
    { id: 4, top: 39.09, left: 5.66 },
    { id: 5, top: 41.23, left: 16.99 },
    { id: 6, top: 40.89, left: 9.77 },
    { id: 7, top: 46.4, left: 9.47 },
    { id: 8, top: 45.61, left: 15.53 },
    { id: 9, top: 51.0, left: 8.98 },
    { id: 10, top: 50.22, left: 13.57 },
    { id: 11, top: 58.64, left: 8.2 },
    { id: 12, top: 60.44, left: 11.04 },
    { id: 13, top: 58.87, left: 16.31 },
    { id: 14, top: 66.17, left: 8.69 },
    { id: 15, top: 66.06, left: 13.28 },
    { id: 16, top: 56.73, left: 24.41 },
    { id: 17, top: 63.02, left: 20.8 },
    { id: 18, top: 67.97, left: 15.92 },
    { id: 19, top: 72.57, left: 14.45 },
    { id: 20, top: 76.95, left: 13.77 },
    { id: 21, top: 72.12, left: 21.0 },
    { id: 22, top: 64.26, left: 27.34 },
    { id: 23, top: 83.02, left: 14.06 },
    { id: 24, top: 88.08, left: 16.41 },
    { id: 25, top: 80.77, left: 21.29 },
    { id: 26, top: 86.17, left: 21.68 },
    { id: 27, top: 89.65, left: 23.93 },
    { id: 28, top: 80.21, left: 25.68 },
    { id: 29, top: 92.68, left: 25.78 },
    { id: 30, top: 96.61, left: 29.0 },
    { id: 31, top: 91.67, left: 33.11 },
    { id: 32, top: 84.14, left: 33.89 },
    { id: 33, top: 78.41, left: 34.77 },
    { id: 34, top: 66.96, left: 31.45 },
    { id: 35, top: 54.49, left: 37.11 },
    { id: 36, top: 61.68, left: 35.16 },
    { id: 37, top: 69.76, left: 35.55 },
    { id: 38, top: 73.02, left: 37.6 },
    { id: 39, top: 52.8, left: 39.94 },
    { id: 40, top: 49.99, left: 42.48 },
    { id: 41, top: 95.04, left: 33.79 },
    { id: 42, top: 93.58, left: 39.26 },
    { id: 43, top: 96.16, left: 41.7 },
    { id: 44, top: 91.45, left: 42.87 },
    { id: 45, top: 83.47, left: 39.65 },
    { id: 46, top: 62.91, left: 42.58 },
    { id: 47, top: 68.42, left: 43.36 },
    { id: 48, top: 64.15, left: 45.21 },
    { id: 49, top: 68.98, left: 48.63 },
    { id: 50, top: 76.28, left: 49.61 },
    { id: 51, top: 81.0, left: 46.39 },
    { id: 52, top: 86.17, left: 45.41 },
    { id: 53, top: 86.05, left: 48.14 },
    { id: 54, top: 88.41, left: 49.9 },
    { id: 55, top: 80.32, left: 52.34 },
    { id: 56, top: 51.23, left: 49.61 },
    { id: 57, top: 57.29, left: 53.13 },
    { id: 56, top: 63.14, left: 53.03 },
    { id: 58, top: 66.17, left: 51.17 },
    { id: 59, top: 68.64, left: 53.42 },
    { id: 60, top: 75.61, left: 53.81 },
    { id: 61, top: 89.31, left: 52.73 },
    { id: 62, top: 97.18, left: 54.88 },
    { id: 63, top: 96.39, left: 57.91 },
    { id: 64, top: 73.58, left: 57.52 },
    { id: 65, top: 80.44, left: 59.18 },
    { id: 66, top: 91.33, left: 58.69 },
    { id: 67, top: 87.74, left: 60.84 },
    { id: 68, top: 96.28, left: 61.23 },
    { id: 69, top: 89.65, left: 64.36 },
    { id: 70, top: 86.28, left: 63.38 },
    { id: 71, top: 96.05, left: 66.8 },
    { id: 72, top: 85.83, left: 70.9 },
    { id: 73, top: 90.44, left: 71.0 },
    { id: 74, top: 86.95, left: 76.95 },
    { id: 75, top: 89.09, left: 79.88 },
    { id: 76, top: 83.92, left: 66.02 },
    { id: 77, top: 81.56, left: 68.36 },
    { id: 78, top: 77.52, left: 70.7 },
    { id: 79, top: 79.99, left: 72.85 },
    { id: 80, top: 73.81, left: 61.82 },
    { id: 81, top: 67.07, left: 63.28 },
    { id: 82, top: 53.14, left: 56.64 },
    { id: 83, top: 56.51, left: 58.3 },
    { id: 84, top: 43.48, left: 57.03 },
    { id: 85, top: 51.56, left: 63.87 },
    { id: 86, top: 58.19, left: 61.82 },
    { id: 87, top: 59.43, left: 65.92 },
    { id: 88, top: 69.76, left: 65.23 },
    { id: 89, top: 69.76, left: 69.82 },
    { id: 90, top: 73.47, left: 69.43 },
    { id: 91, top: 61.56, left: 70.41 },
    { id: 92, top: 68.53, left: 72.66 },
    { id: 93, top: 85.16, left: 84.08 },
    { id: 94, top: 78.19, left: 80.08 },
    { id: 95, top: 81.78, left: 88.48 },
    { id: 96, top: 78.75, left: 89.65 },
    { id: 97, top: 73.7, left: 89.65 },
    { id: 98, top: 72.91, left: 83.59 },
    { id: 99, top: 67.74, left: 88.67 },
    { id: 100, top: 68.08, left: 79.88 },
    { id: 101, top: 69.76, left: 83.11 },
    { id: 102, top: 64.26, left: 85.94 },
    { id: 103, top: 64.03, left: 89.65 },
    { id: 104, top: 62.24, left: 77.15 },
    { id: 105, top: 55.27, left: 73.54 },
    { id: 106, top: 58.53, left: 81.84 },
    { id: 107, top: 59.32, left: 90.14 },
    { id: 108, top: 48.42, left: 69.82 },
    { id: 109, top: 53.59, left: 87.79 },
    { id: 110, top: 49.99, left: 85.94 },
    { id: 111, top: 48.42, left: 90.53 },
    { id: 112, top: 45.5, left: 87.79 },
    { id: 113, top: 43.59, left: 76.37 },
    { id: 114, top: 38.98, left: 67.38 },
    { id: 115, top: 32.92, left: 70.7 },
    { id: 116, top: 31.91, left: 89.84 },
    { id: 117, top: 32.92, left: 93.95 },
    { id: 118, top: 38.42, left: 92.58 },
    { id: 119, top: 39.09, left: 97.66 },
    { id: 120, top: 44.15, left: 96.0 },
  ];

  static __get_random_int__ = (min, max) => {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min)) + min; //최댓값은 제외, 최솟값은 포함
  };

  static __deep_clone__ = (object) => JSON.parse(JSON.stringify(object));

  constructor() {
    this.positions = NodeMap.__deep_clone__(NodeMap.__root_map__);
  }

  getNextPosition = () => {
    if (this.positions.length === 0) return [false, -1];
    const target = NodeMap.__get_random_int__(0, this.positions.length);
    const nextPosition = this.positions[target];
    this.positions = this.positions
      .slice(0, target)
      .concat(this.positions.slice(target + 1));
    return [nextPosition, this.positions.length];
  };

  remove = (positions) => {
    this.positions = this.positions.filter(
      (position) => !positions.includes(position)
    );
  };
  restore = (positions) => {
    this.positions = this.positions.concat(positions);
  };

  reset = () => {
    this.positions = NodeMap.__deep_clone__(NodeMap.__root_map__);
  };
}
